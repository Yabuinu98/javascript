<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>p.340 구글 단위변환 만들어보기</title>
  </head>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const gnbs = document.getElementsByClassName("one") // gnbs[0].textContent = 길이
      const dan1s = document.getElementsByClassName("two") // dan1s[1].textContent = cm
      const dan2s = document.getElementsByClassName("three") // dan1s[2].textContent = mm
      const inputs = document.getElementsByTagName("input")
      const dan1 = document.getElementById("dan1")
      const dan2 = document.getElementById("dan2")
      const change = document.getElementById("change")
      
      /* 길이 일때 */
      if(gnbs[0].textContent == "길이"){
        const input = (inputs[0].value)*1 // 입력 값이 input에 숫자로 담기게 하기
        dan1.addEventListener("change", (event) => {
          const options = event.currentTarget.options; // dan1의 옵션들인 m cm mm가 배열로 담기고 마지막 자리엔 내가 선택한 selectedIndex가 인덱스 번호로 있음
          const index = event.currentTarget.options.selectedIndex; // selectedIndex를 index에 저장 / options[index].textContent = 내가 선택한 값을 보겟다
          /* 입력단위:m 일때 */
          if(options[index].textContent == "m"){
            dan2.addEventListener("change", (event) => {
          const options = event.currentTarget.options; // dan1의 옵션들인 m cm mm가 배열로 담기고 마지막 자리엔 내가 선택한 selectedIndex가 인덱스 번호로 있음
          const index = event.currentTarget.options.selectedIndex;
          if(options[index].textContent == "m"){
            change.textContent = `${input}`
          }
        })
          }
        })
        /* 입력단위:cm 일때 */
        /* 입력단위:mm 일때 */
      }
      
      /* 너비 일때(길이 다하고 나서) */
      // if(gnbs[1].textContent){} 

      /* 부피 일때(길이 다하고 나서) */
      // if(gnbs[3].textContent){}
    })
  </script>
  <style>
    html, body{
      height: 100%;
      width: 100%;
    }
  </style>
  <body>
    <div style="background-color: beige; height: 30%; width: 60%; margin: 50px 0 0 50px; padding: 20px;">
      <select name="" id="gnb" style="width: 80%; height: 10%;margin-bottom: 10px;">
        <option value="" class="one">길이</option>
        <option value="" class="one">너비</option>
        <option value="" class="one">부피</option>
      </select>
      <div style="display: flex; margin: 10px 0 20px 10px; width: 80%; height: 50%;">
      <div class="int" style="background-color: antiquewhite; padding: 15px; width: 50%;">
        <input type="text" /><br><hr>
        <select name="" id="dan1">
          <option value="" class="two">m</option>
          <option value="" class="two">cm</option>
          <option value="" class="two">mm</option>
        </select>
      </div>
      <div style="font-size: 50px; width: 20%; text-align: center;">=</div>
      <div class="ch" style="background-color: antiquewhite; padding: 15px; width: 50%;">
        <div id="change" style="font-size: 13px;">숫자가 입력되지 않았습니다</div><hr>
        <select name="" id="dna2">
          <option value="" class="three">m</option>
          <option value="" class="three">cm</option>
          <option value="" class="three">mm</option>
        </select>
      </div>
    </div>
      <p style="background-color: skyblue; width: 80%; height: 20%; display: flex; align-items: center; padding-left: 10px;">tip : 길이의 값에 100을(를) 곱합니다.</p>
    </div>
  </body>
</html>
