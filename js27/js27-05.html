<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>p.352 할 일 목록 만들기 예제 혼자해보기</title>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const text = document.querySelector("input"); // input 태그를 text에 저장
        const btn1 = document.querySelector("#add"); // <button id="add">추가하기</button>
        const btn3 = document.querySelector("#reset"); // <button id="add">추가하기</button>
        const list = document.querySelector(".list"); // <div class="list"></div>

        /* 추가 버튼을 누르면 입력값이 div에 추가되도록 */
        btn1.addEventListener("click", () => {
            const checkbox = document.createElement("input") // radio 속성의 input태그 생성
            const span = document.createElement("span") // 입력 값을 담을 span태그 생성
            const btn2 = document.createElement("button") // 제거하기 버튼만들기
            const br = document.createElement("br")
            const input = text.value
            checkbox.type = "checkbox"
            span.textContent = input
            btn2.textContent = "제거하기"
            list.append(br, checkbox, span, btn2)
            
            /* 체크박스를 클릭하면 취소선 긋기 */
            checkbox.addEventListener("click", (event) => {
                const choose = event.currentTarget.checked
                if(choose){
                    span.style.textDecoration = "line-through" // css주기
                }
                if(!choose){
                    span.style.textDecoration = "" // css빼기
                }
            })

            /* 제거하기 버튼을 누르면 해당 일정만 제거 */
            btn2.addEventListener("click", (event) => {
                list.removeChild(br)
                list.removeChild(checkbox)
                list.removeChild(span)
                list.removeChild(btn2)
            })
        })

        /* 리셋버튼을 만들기(F5 역할) */
        btn3.addEventListener("click", () => {
            const lastck = confirm("정말초기화 시키시겠습니까?")
            if(lastck){
                location.reload()
            }
        })
      });
    </script>
  </head>
  <body>
    <h3>할 일 목록</h3>
    <input type="text" style="height: 20px; margin-right: 10px" />
    <button id="add" style="margin-right: 10px;">추가하기</button>
    <button id="reset">리셋</button>
    <div class="list"></div>
  </body>
</html>
